<!-- HTML del Login -->
<div class="container-fluid vh-100 d-flex justify-content-center align-items-center" style="font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f0f2f5;">
  <div class="row w-100 shadow-lg" style="border-radius: 10px; overflow: hidden;">
    
    <!-- Sección Carousel -->
    <div class="col-md-6 p-0 position-relative">
      <div id="carouselExampleIndicators" class="carousel slide h-100" data-bs-ride="carousel" data-bs-interval="5000">
        <div class="carousel-indicators">
          <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
          <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1" aria-label="Slide 2"></button>
          <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2" aria-label="Slide 3"></button>
          <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="3" aria-label="Slide 4"></button>
        </div>
        <div class="carousel-inner h-100">
          <div class="carousel-item active">
            <img src="https://picsum.photos/600/600?random=1" class="d-block w-100 h-100" alt="Image 1">
            <div class="overlay d-flex flex-column justify-content-center align-items-center text-white text-center p-4" style="background: rgba(0,0,0,0.4);">
              <h1 style="font-weight: 600;">¡Bienvenido a la revolución musical para todos!</h1>
              <p style="font-size: 0.95rem;">Descubre una forma innovadora de aprender a tocar instrumentos, diseñada especialmente para personas con discapacidad visual. Nuestra aplicación te guiará en cada paso del camino, desde las notas básicas hasta canciones complejas.</p>
            </div>
          </div>
          <div class="carousel-item">
            <img src="https://picsum.photos/600/600?random=2" class="d-block w-100 h-100" alt="Image 2">
            <div class="overlay d-flex flex-column justify-content-center align-items-center text-white text-center p-4" style="background: rgba(0,0,0,0.4);">
              <h1 style="font-weight: 600;">Aprende a tu propio ritmo, sin límites</h1>
              <p style="font-size: 0.95rem;">Con lecciones interactivas y personalizadas, podrás explorar el mundo del piano de manera intuitiva y accesible. ¡No importa tu nivel de experiencia, aquí encontrarás tu camino!</p>
            </div>
          </div>
          <div class="carousel-item">
            <img src="https://picsum.photos/600/600?random=3" class="d-block w-100 h-100" alt="Image 3">
            <div class="overlay d-flex flex-column justify-content-center align-items-center text-white text-center p-4" style="background: rgba(0,0,0,0.4);">
              <h1 style="font-weight: 600;">Explora un repertorio diverso</h1>
              <p style="font-size: 0.95rem;">Desde melodías clásicas hasta música moderna, aprende con un sistema paso a paso.</p>
            </div>
          </div>
          <div class="carousel-item">
            <img src="https://picsum.photos/600/600?random=4" class="d-block w-100 h-100" alt="Image 4">
            <div class="overlay d-flex flex-column justify-content-center align-items-center text-white text-center p-4" style="background: rgba(0,0,0,0.4);">
              <h1 style="font-weight: 600;">Practica con retroalimentación auditiva</h1>
              <p style="font-size: 0.95rem;">Recibe indicaciones en tiempo real para mejorar tu técnica sin depender de la vista.</p>
            </div>
          </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Anterior</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Siguiente</span>
        </button>
      </div>
      <div class="position-absolute bottom-0 start-0 p-3 text-white" style="font-size: 0.85rem;">
        <p>© Melodías a ciegas 2025</p>
      </div>
    </div>
    
    <!-- Sección del formulario -->
    <div class="col-md-6 bg-dark text-light d-flex flex-column justify-content-center align-items-center p-5">
      <div class="w-75">
        <!-- Formulario de inicio de sesión -->
        <div *ngIf="!isRegistering">
          <h2 class="mb-4 text-center" style="font-weight: 600;">¡Bienvenido/a!</h2>
          <p class="text-center" style="font-size: 0.95rem;">
            Este formulario requiere la verificación visual de algunos datos. Si necesitas ayuda, puedes solicitar el apoyo de un amigo o familiar.
          </p>
          <form (ngSubmit)="login()">
            <div class="mb-3">
              <label for="email" class="form-label" style="font-weight: 500;">Email:</label>
              <input
                [(ngModel)]="credentials.email"
                type="email"
                class="form-control"
                id="email"
                name="email"
                placeholder="Ingresa tu email"
                required
              />
            </div>
            <div class="mb-3">
              <label for="password" class="form-label" style="font-weight: 500;">Contraseña:</label>
              <input
                [(ngModel)]="credentials.password"
                type="password"
                class="form-control"
                id="password"
                name="password"
                placeholder="Contraseña"
                required
              />
            </div>
            <div class="form-check mb-3 d-flex justify-content-between align-items-center">
              <div>
                <input
                  [(ngModel)]="rememberMe"
                  type="checkbox"
                  class="form-check-input"
                  id="rememberMe"
                  name="rememberMe"
                />
                <label class="form-check-label" for="rememberMe">Recuérdame</label>
              </div>
              <a href="#" class="text-info" style="font-size: 0.9rem;">¿Olvidaste tu contraseña?</a>
            </div>
            <button type="submit" class="btn btn-info w-100" style="padding: 0.6rem 0; border-radius: 30px; font-weight: 600;">Iniciar sesión</button>
          </form>
          <p class="mt-3 text-center" style="font-size: 0.95rem;">
            ¿No tienes una cuenta?
            <a class="text-info text-link" style="cursor: pointer;" (click)="showRegisterForm()">¡Regístrate!</a>
          </p>
        </div>
  
        <!-- Formulario de registro -->
        <div *ngIf="isRegistering">
          <h2 class="mb-4 text-center" style="font-weight: 600;">¡Regístrate!</h2>
          <p class="text-center" style="font-size: 0.95rem;">Este formulario requiere la verificación visual de algunos datos. Si necesitas ayuda, puedes solicitar el apoyo de un amigo o familiar.</p>
          <form (ngSubmit)="register()">
            <div class="mb-3">
              <label for="registerName" class="form-label" style="font-weight: 500;">Nombre:</label>
              <input
                [(ngModel)]="registerCredentials.nombre"
                type="text"
                class="form-control"
                id="registerName"
                name="registerName"
                placeholder="Ingresa tu nombre"
                required
              />
            </div>
            <div class="mb-3">
              <label for="registerEmail" class="form-label" style="font-weight: 500;">Email:</label>
              <input
                [(ngModel)]="registerCredentials.correo"
                type="email"
                class="form-control"
                id="registerEmail"
                name="registerEmail"
                placeholder="Ingresa tu email"
                required
              />
            </div>
            <div class="mb-3">
              <label for="registerPassword" class="form-label" style="font-weight: 500;">Contraseña:</label>
              <input
                [(ngModel)]="registerCredentials.contrasenia"
                type="password"
                class="form-control"
                id="registerPassword"
                name="registerPassword"
                placeholder="Crea una contraseña"
                required
              />
            </div>
            <div class="mb-3">
              <label for="confirmPassword" class="form-label" style="font-weight: 500;">Confirmar Contraseña:</label>
              <input
                [(ngModel)]="confirmPassword"
                type="password"
                class="form-control"
                id="confirmPassword"
                name="confirmPassword"
                placeholder="Confirma tu contraseña"
                required
              />
            </div>
            <button type="submit" class="btn btn-info w-100" style="padding: 0.6rem 0; border-radius: 30px; font-weight: 600;">Crear cuenta</button>
          </form>
          <p class="mt-3 text-center" style="font-size: 0.95rem;">
            ¿Ya tienes una cuenta?
            <a class="text-info text-link" style="cursor: pointer;" (click)="showLoginForm()">Inicia sesión</a>
          </p>
        </div>
      </div>
    </div>
    
  </div>
</div>

<router-outlet></router-outlet>

<!-- Estilos Específicos -->
<style>
  body {
    background-color: #f0f2f5;
  }
  /* Carousel: se ajusta el overlay y se redondean los bordes izquierdos */
  #carouselExampleIndicators img {
    object-fit: cover;
  }
  .carousel-indicators button {
    background-color: #fff;
  }
  /* Formulario: se optimiza la tipografía y se ajustan márgenes */
  .form-control {
    border-radius: 5px;
    border: 1px solid #ced4da;
  }
  .btn-info {
    transition: background-color 0.3s, transform 0.2s;
  }
  .btn-info:hover {
    background-color: #0b5ed7;
    transform: translateY(-2px);
  }
  /* Links en los formularios */
  .text-link {
    text-decoration: underline;
    cursor: pointer;
  }
  .text-link:hover {
    opacity: 0.8;
  }
  @media (max-width: 576px) {
    .w-75 {
      width: 100% !important;
    }
  }
</style>